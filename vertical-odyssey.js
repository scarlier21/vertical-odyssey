"use strict";!function(b){b(document).ready(function(){gsap.registerPlugin(ScrollTrigger);var w=".scrollContainer",t=document.querySelector(w),o=new LocomotiveScroll({el:t,scrollFromAnywhere:!0,reloadOnContextChange:!0,initPosition:{y:b(w).height()},smooth:!0,tablet:{smooth:!0},smartphone:{smooth:!0}});o.on("scroll",ScrollTrigger.update),ScrollTrigger.scrollerProxy(w,{scrollTop:function(t){return arguments.length?o.scrollTo(t,0,0):o.scroll.instance.scroll.y},getBoundingClientRect:function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},pinType:document.querySelector(w).style.transform?"transform":"fixed"}),ScrollTrigger.addEventListener("refresh",function(){return o.update()}),ScrollTrigger.refresh();var S=!1;function e(T){S||(S=!0,setTimeout(function(){var t,o=b(".anchor-container"),e=b(".anchor-number"),r=b(w).height(),n=b(window).height(),a=b(window).scrollTop(),i=a+n/2;if(void 0!==(null==T||null===(t=T.scroll)||void 0===t?void 0:t.y)){var l=n-o.innerHeight()-100-20,s=100+l-100*T.scroll.y/(r-n)*l/100;o.css("top",s+"px")}var c=b("[data-point]");if(0!==c.length){var d,h,f;if(c.each(function(t,o){var e=b(o),r=e.offset().top;return r===i?(f=e,d=h=void 0,!1):(r<i&&(d=e),i<r?(h=e,!1):void 0)}),Math.round(c.first().offset().top)>=a)e.text(Math.round(c.first().data("point")));else if(Math.round(c.last().offset().top)<=a+n+1)e.text(Math.round(c.last().data("point")));else if(void 0!==f)e.text(f.data("point"));else if(void 0!==d&&void 0!==h){var u=d.offset().top,g=h.offset().top,p=d.data("point"),m=h.data("point"),v=Math.abs(g-u),y=p-(p-m)*(100*Math.abs(i-u)/v)/100;e.text(Math.round(y))}S=!1}},50))}o.on("scroll",e),b(window).on("resize",e),e(),gsap.utils.toArray("section").forEach(function(r,t){var o=r.querySelectorAll(".image-parallax-bg");o.length&&o.forEach(function(t,o){var e=t.dataset.factor?t.dataset.factor:4;b(document).width()<767&&(e=t.dataset.factorSm?t.dataset.factor:e),t.style.backgroundPosition="50% ".concat(-innerHeight/e,"px"),gsap.to(t,{backgroundPosition:"50% ".concat(innerHeight/4,"px"),ease:"none",scrollTrigger:{trigger:r,scroller:w,scrub:!0}})})}),gsap.utils.toArray("section").forEach(function(t,o){var e=t.querySelectorAll("[data-depth-from]");if(e.length){var l=gsap.timeline({scrollTrigger:{trigger:t,start:"top top",end:"bottom top",scroller:w,scrub:!0}});e.forEach(function(t,o){var e=innerHeight,r=t.dataset.depthFrom,n=t.dataset.depthTo;b(document).width()<767&&(r=t.dataset.depthFromSm?t.dataset.depthFromSm:r,n=t.dataset.depthToSm?t.dataset.depthToSm:n);var a=e*r,i=e*n;l.fromTo(t,{y:a,ease:"none"},{y:i,ease:"none"})})}});b(".linkToBottom").click(function(t){t.preventDefault(),o.scrollTo("bottom",{duration:500})})})}(jQuery);